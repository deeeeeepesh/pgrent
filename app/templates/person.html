{% extends "base.html" %}
{% block content %}
<h2>{{ data.person.name }}</h2>
<p>Rent: ₹ {{ data.rent }}</p>
<p>EB share: ₹ {{ data.eb_share }}</p>
<p>Paid: ₹ {{ data.paid }}</p>
<p><strong>Due: ₹ {{ data.due }}</strong></p>

<form method="post" action="/person/{{ data.person.id }}/pay">
  <input name="amount" placeholder="Enter amount paid" type="number" step="0.01" required>
  <input name="month" placeholder="YYYY-MM (optional)" >
  <button type="submit">Record Payment</button>
</form>

<form method="post" action="/person/{{ data.person.id }}/pay_full" style="margin-top:8px">
  <input name="month" placeholder="YYYY-MM (optional)" >
  <button type="submit">Pay In Full</button>
</form>

<h3>Payments</h3>
<ul>
{% for p in payments %}
  <li>{{ p.amount }} on {{ p.timestamp }} (month: {{ p.month }})</li>
{% endfor %}
</ul>

<a href="/">Back</a>
{% endblock %}
